import{Q as $,a as v}from"./QBreadcrumbs-f1fcde01.js";import{a1 as q,h as d,o as i,e as g,a as t,d as n,w as r,Q as f,m as V,F as b,aw as w,t as x,n as _,c as y}from"./app-a7abb58d.js";import{Q as k}from"./QChip-85d4182d.js";import{Q as F}from"./QTable-33cc80a5.js";import"./QSelect-57ce204b.js";import"./rtl-36dd996b.js";import"./use-fullscreen-7c8ce305.js";const P={class:"flex justify-between items-center"},U=t("p",{class:"page-header"},"List of users",-1),j=t("br",null,null,-1),E={class:"flex justify-between items-center"},I=t("br",null,null,-1),R={align:"left"},z={align:"left"},L={align:"right"},O={class:"flex q-gutter-sm justify-end"},W={__name:"Index",props:["list","search"],setup(Q){const o=Q,C=[{name:"sn",align:"left",label:"SN",field:"id"},{name:"name",align:"left",label:"Name",field:"name"},{name:"email",align:"left",label:"Email",field:"email"},{name:"mobile",align:"left",label:"Mobile",field:"mobile"},{name:"roles",align:"left",label:"Roles",field:"roles"},{name:"departments",align:"left",label:"Departments",field:"departments"},{name:"action",label:"Action",field:"id"}],u=q(),B=d(o.list.data||[]),m=d(!1),c=d(o.search),p=d({page:o.list.current_page,rowsPerPage:o.list.per_page,rowsNumber:o.list.total}),S=a=>{u.dialog({title:"Confirm Delete",message:"Do you want to delete",ok:"Yes",cancel:"No"}).onOk(()=>{w.delete(route("user.destroy",a.id),{onStart:l=>u.loading.show({message:"Deleting..."}),onFinish:l=>u.loading.hide(),preserveState:!1})})},D=a=>{h({pagination:p.value})};function h(a){const{page:l,rowsPerPage:e,sortBy:s,descending:T}=a.pagination;w.get(route("user.index"),{per_page:e,page:l,search:c.value},{preserveState:!1,onStart:N=>m.value=!0,onFinish:N=>m.value=!1})}return(a,l)=>(i(),g(b,null,[t("div",P,[t("div",null,[U,n($,null,{default:r(()=>[n(v,{icon:"o_dashboard",label:"Dashboard",onClick:l[0]||(l[0]=e=>a.$inertia.get(a.route("dashboard")))}),n(v,{class:"text-color",label:"Users"})]),_:1})]),n(f,{color:"accent",label:"New User",rounded:"",onClick:l[1]||(l[1]=e=>a.$inertia.get(a.route("user.create"),{},{preserveState:!1}))})]),j,t("div",E,[n(V,{modelValue:c.value,"onUpdate:modelValue":[l[2]||(l[2]=e=>c.value=e),D],debounce:800,dense:"",outlined:"",placeholder:"Type here"},null,8,["modelValue"])]),I,n(F,{pagination:p.value,"onUpdate:pagination":l[3]||(l[3]=e=>p.value=e),columns:C,filter:a.filter,loading:m.value,rows:B.value,"rows-per-page-options":[2,5,7,15,30,50],"binary-state-sort":"",flat:"","row-key":"id","table-class":"text-color","table-header-class":"table-header",onRequest:h},{"body-cell-sn":r(e=>[t("td",null,x(e.rowIndex+1),1)]),"body-cell-roles":r(e=>[t("td",R,[(i(!0),g(b,null,_(e.row.roles,s=>(i(),y(k,{label:s==null?void 0:s.name,square:""},null,8,["label"]))),256))])]),"body-cell-departments":r(e=>[t("td",z,[(i(!0),g(b,null,_(e.row.departments,s=>(i(),y(k,{label:s==null?void 0:s.name,square:""},null,8,["label"]))),256))])]),"body-cell-action":r(e=>[t("td",L,[t("div",O,[n(f,{icon:"edit",outline:"",size:"sm",onClick:s=>a.$inertia.get(a.route("user.edit",e.row.id))},null,8,["onClick"]),n(f,{icon:"delete",outline:"",size:"sm",onClick:s=>S(e.row)},null,8,["onClick"])])])]),_:1},8,["pagination","filter","loading","rows"])],64))}};export{W as default};
