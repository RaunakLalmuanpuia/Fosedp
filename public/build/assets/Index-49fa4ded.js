import{Q as S,a as b}from"./QBreadcrumbs-f1fcde01.js";import{a1 as D,h as r,o as p,e as h,a as l,d as s,w as i,m as N,Q as g,F as v,aw as w,t as $,n as q,c as T}from"./app-a7abb58d.js";import{Q as V}from"./QChip-85d4182d.js";import{Q as x}from"./QTable-33cc80a5.js";import"./QSelect-57ce204b.js";import"./rtl-36dd996b.js";import"./use-fullscreen-7c8ce305.js";const F={class:"flex justify-between items-center"},P=l("p",{class:"page-header"},"List of your Task Group User",-1),U=l("br",null,null,-1),j={class:"flex justify-between items-center"},E=l("br",null,null,-1),I={align:"left"},z={align:"right"},G={class:"flex q-gutter-sm justify-end"},K={__name:"Index",props:["list","search"],setup(k){const n=k,y=[{name:"sn",align:"left",label:"SN",field:"id"},{name:"name",align:"left",label:"Name",field:"user",format:e=>e.name},{name:"email",align:"left",label:"Email",field:"user",format:e=>e.email},{name:"mobile",align:"left",label:"Mobile",field:"user",format:e=>e.mobile},{name:"district",align:"left",label:"District",field:"district",format:e=>e.name},{name:"action",label:"Action",field:"id"}],d=D(),_=r(n.list.data||[]),u=r(!1),c=r(n.search),m=r({page:n.list.current_page,rowsPerPage:n.list.per_page,rowsNumber:n.list.total}),Q=e=>{d.dialog({title:"Confirm Delete",message:"Do you want to delete",ok:"Yes",cancel:"No"}).onOk(()=>{w.delete(route("task-group-user.destroy",e.id),{onStart:t=>d.loading.show({message:"Deleting..."}),onFinish:t=>d.loading.hide(),preserveState:!1})})},C=e=>{f({pagination:m.value})};function f(e){const{page:t,rowsPerPage:a,sortBy:o,descending:L}=e.pagination;w.get(route("user.index"),{per_page:a,page:t,search:c.value},{preserveState:!1,onStart:B=>u.value=!0,onFinish:B=>u.value=!1})}return(e,t)=>(p(),h(v,null,[l("div",F,[l("div",null,[P,s(S,null,{default:i(()=>[s(b,{icon:"o_dashboard",label:"Dashboard",onClick:t[0]||(t[0]=a=>e.$inertia.get(e.route("dashboard")))}),s(b,{class:"text-color",label:"Task group users"})]),_:1})])]),U,l("div",j,[s(N,{modelValue:c.value,"onUpdate:modelValue":[t[1]||(t[1]=a=>c.value=a),C],debounce:800,dense:"",outlined:"",placeholder:"Type here"},null,8,["modelValue"]),s(g,{color:"accent",label:"New Task Group User",onClick:t[2]||(t[2]=a=>e.$inertia.get(e.route("task-group-user.create"),{},{preserveState:!1}))})]),E,s(x,{pagination:m.value,"onUpdate:pagination":t[3]||(t[3]=a=>m.value=a),columns:y,filter:e.filter,loading:u.value,rows:_.value,"rows-per-page-options":[2,5,7,15,30,50],"binary-state-sort":"",flat:"","row-key":"id","table-class":"text-color","table-header-class":"table-header",onRequest:f},{"body-cell-sn":i(a=>[l("td",null,$(a.rowIndex+1),1)]),"body-cell-roles":i(a=>[l("td",I,[(p(!0),h(v,null,q(a.row.roles,o=>(p(),T(V,{label:o==null?void 0:o.name,square:""},null,8,["label"]))),256))])]),"body-cell-action":i(a=>[l("td",z,[l("div",G,[s(g,{icon:"edit",outline:"",size:"sm",onClick:o=>e.$inertia.get(e.route("task-group-user.edit",a.row.id))},null,8,["onClick"]),s(g,{icon:"delete",outline:"",size:"sm",onClick:o=>Q(a.row)},null,8,["onClick"])])])]),_:1},8,["pagination","filter","loading","rows"])],64))}};export{K as default};
