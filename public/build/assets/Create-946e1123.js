import{Q as S,a as d}from"./QBreadcrumbs-f1fcde01.js";import{Q as m}from"./QSelect-57ce204b.js";import{a1 as x,v as F,o as P,e as k,a as t,d as o,w as B,F as N,u as l,Q as w}from"./app-a7abb58d.js";import{Q as q}from"./QForm-ea84dcf4.js";import"./QChip-85d4182d.js";import"./rtl-36dd996b.js";const y={class:"flex justify-between items-center text-color"},z=t("p",{class:"page-header"},"New Trade",-1),A=t("br",null,null,-1),D=t("br",null,null,-1),E={class:"flex q-gutter-sm"},J={__name:"Create",props:["users","districts"],setup(u){const c=x(),r=F({parent:null,user:null,district:null}),C=i=>{r.transform(e=>{var a,n;return{...e,parent_id:(a=e==null?void 0:e.parent)==null?void 0:a.value,district_id:(n=e==null?void 0:e.district)==null?void 0:n.value,user_id:e.user.value}}).submit("post",route("associated-user.store"),{onStart:e=>c.loading.show({message:"Saving..."}),onFinish:e=>c.loading.hide()})};return(i,e)=>(P(),k(N,null,[t("div",y,[t("div",null,[z,o(S,null,{default:B(()=>[o(d,{href:i.route("dashboard"),label:"Dashboard",icon:"o_dashboard"},null,8,["href"]),o(d,{href:i.route("associated-user.index"),label:"Associated Users"},null,8,["href"]),o(d,{label:"Assign User"})]),_:1})])]),A,D,o(q,{onSubmit:C},{default:B(()=>{var a,n,p,b,f,g,_,h,v,V,Q,U;return[o(m,{modelValue:l(r).parent,"onUpdate:modelValue":e[0]||(e[0]=s=>l(r).parent=s),outlined:"",label:"Parent User *",options:u.users,error:!!((n=(a=l(r))==null?void 0:a.errors)!=null&&n.parent_id),"error-message":!!((b=(p=l(r))==null?void 0:p.errors)!=null&&b.parent_id),rules:[s=>!!s||"Please select parent user"]},null,8,["modelValue","options","error","error-message","rules"]),o(m,{modelValue:l(r).user,"onUpdate:modelValue":e[1]||(e[1]=s=>l(r).user=s),outlined:"",label:"Child User *",options:u.users,error:!!((g=(f=l(r))==null?void 0:f.errors)!=null&&g.user_id),"error-message":!!((h=(_=l(r))==null?void 0:_.errors)!=null&&h.user_id),rules:[s=>!!s||"Please select user"]},null,8,["modelValue","options","error","error-message","rules"]),o(m,{modelValue:l(r).district,"onUpdate:modelValue":e[2]||(e[2]=s=>l(r).district=s),outlined:"",label:"District *",options:u.districts,error:!!((V=(v=l(r))==null?void 0:v.errors)!=null&&V.district_id),"error-message":!!((U=(Q=l(r))==null?void 0:Q.errors)!=null&&U.district_id),rules:[s=>!!s||"Please select district"]},null,8,["modelValue","options","error","error-message","rules"]),t("div",E,[o(w,{class:"sized-btn",type:"submit",label:"Save",color:"accent"}),o(w,{class:"sized-btn",onClick:e[3]||(e[3]=s=>i.$inertia.replace(i.route("trade.index"))),label:"Cancel",color:"negative"})])]}),_:1})],64))}};export{J as default};
