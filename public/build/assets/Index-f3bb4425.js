import{Q,a as g}from"./QBreadcrumbs-f1fcde01.js";import{a1 as D,h as s,o as B,e as C,a as n,d as o,w as u,Q as m,m as N,F as S,aw as b,t as x}from"./app-a7abb58d.js";import{Q as O}from"./QTable-33cc80a5.js";import"./QSelect-57ce204b.js";import"./QChip-85d4182d.js";import"./rtl-36dd996b.js";import"./use-fullscreen-7c8ce305.js";const V={class:"flex justify-between items-center"},$=n("p",{class:"page-header"},"List of Office",-1),q=n("br",null,null,-1),F={class:"flex justify-between items-center"},P={align:"right"},j={class:"flex q-gutter-sm justify-end"},Y={__name:"Index",props:["list"],setup(h){const l=h,w=[{name:"sn",align:"left",label:"SN",field:"id"},{name:"name",align:"left",label:"Name",field:"name"},{name:"district",align:"left",label:"District",field:"district",format:e=>e==null?void 0:e.name},{name:"department",align:"left",label:"Department",field:"department",format:e=>e==null?void 0:e.name},{name:"action",label:"Action",field:"id"}],i=D(),_=s(l.list.data||[]),r=s(!1),d=s(),c=s({page:l.list.current_page,rowsPerPage:l.list.per_page,rowsNumber:l.list.total}),y=e=>{i.dialog({title:"Confirm Delete",message:"Do you want to delete",ok:"Yes",cancel:"No"}).onOk(()=>{b.delete(route("office.destroy",e.id),{onStart:a=>i.loading.show({message:"Deleting..."}),onFinish:a=>i.loading.hide(),preserveState:!1})})},k=e=>{f({pagination:c})};function f(e){const{page:a,rowsPerPage:t,sortBy:p,descending:I}=e.pagination;b.get(route("office.index"),{per_page:t,search:d.value,page:a},{onStart:v=>r.value=!0,onFinish:v=>r.value=!1})}return(e,a)=>(B(),C(S,null,[n("div",V,[n("div",null,[$,o(Q,null,{default:u(()=>[o(g,{href:e.route("dashboard"),label:"Dashboard",icon:"o_dashboard"},null,8,["href"]),o(g,{label:"Offices"})]),_:1})]),o(m,{color:"accent",label:"New Office",onClick:a[0]||(a[0]=t=>e.$inertia.get(e.route("office.create")))})]),q,n("div",F,[o(N,{modelValue:d.value,"onUpdate:modelValue":[a[1]||(a[1]=t=>d.value=t),k],debounce:700,outlined:"",dense:"",placeholder:"Type here..."},null,8,["modelValue"])]),o(O,{"table-class":"text-color",flat:"","table-header-class":"table-header",pagination:c.value,"onUpdate:pagination":a[2]||(a[2]=t=>c.value=t),columns:w,loading:r.value,rows:_.value,"binary-state-sort":"","row-key":"id",onRequest:f,"rows-per-page-options":[2,5,7,15,30,50]},{"body-cell-sn":u(t=>[n("td",null,x(t.rowIndex+1),1)]),"body-cell-action":u(t=>[n("td",P,[n("div",j,[o(m,{onClick:p=>e.$inertia.get(e.route("office.edit",t.row.id)),size:"sm",icon:"edit",outline:""},null,8,["onClick"]),o(m,{onClick:p=>y(t.row),size:"sm",icon:"delete",outline:""},null,8,["onClick"])])])]),_:1},8,["pagination","loading","rows"])],64))}};export{Y as default};
