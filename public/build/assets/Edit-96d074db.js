import{Q as E,a as n}from"./QBreadcrumbs-f1fcde01.js";import{a1 as q,v as w,o as D,e as F,a as o,d as a,w as U,F as N,m as _,u as t,Q as x}from"./app-a7abb58d.js";import{Q as k}from"./QSelect-57ce204b.js";import{Q as S}from"./QForm-ea84dcf4.js";import"./QChip-85d4182d.js";import"./rtl-36dd996b.js";const z={class:"flex justify-between items-center text-color"},$=o("p",{class:"page-header"},"Edit User",-1),j=o("br",null,null,-1),I=o("br",null,null,-1),A={class:"flex q-gutter-sm"},O={__name:"Edit",props:["data","districts"],setup(d){const i=d,u=q(),e=w({name:i.data.name,description:i.data.description||null,district:{value:i.data.id,label:i.data.name}}),C=l=>{e.transform(r=>({...r,district_id:r.district.value})).submit("put",route("constituency.update",i.data.id),{onStart:r=>u.loading.show({message:"Updating..."}),onFinish:r=>u.loading.hide()})};return(l,r)=>(D(),F(N,null,[o("div",z,[o("div",null,[$,a(E,null,{default:U(()=>[a(n,{href:l.route("dashboard"),label:"Dashboard",icon:"o_dashboard"},null,8,["href"]),a(n,{href:l.route("constituency.index"),label:"Constituencies"},null,8,["href"]),a(n,{label:"Edit Constituency"})]),_:1})])]),j,I,a(S,{onSubmit:C},{default:U(()=>{var m,c,p,b,f,g,Q,V,h,v,y,B;return[a(_,{modelValue:t(e).name,"onUpdate:modelValue":r[0]||(r[0]=s=>t(e).name=s),label:"Name *",error:!!((c=(m=t(e))==null?void 0:m.errors)!=null&&c.name),"error-message":!!((b=(p=t(e))==null?void 0:p.errors)!=null&&b.name),rules:[s=>!!s||"Name is required"]},null,8,["modelValue","error","error-message","rules"]),a(k,{modelValue:t(e).district,"onUpdate:modelValue":r[1]||(r[1]=s=>t(e).district=s),label:"District *",options:d.districts,error:!!((g=(f=t(e))==null?void 0:f.errors)!=null&&g.district),"error-message":!!((V=(Q=t(e))==null?void 0:Q.errors)!=null&&V.district),rules:[s=>!!s||"District is required"]},null,8,["modelValue","options","error","error-message","rules"]),a(_,{modelValue:t(e).description,"onUpdate:modelValue":r[2]||(r[2]=s=>t(e).description=s),label:"Description",type:"textarea",error:!!((v=(h=t(e))==null?void 0:h.errors)!=null&&v.description),"error-message":!!((B=(y=t(e))==null?void 0:y.errors)!=null&&B.description)},null,8,["modelValue","error","error-message"]),o("div",A,[a(x,{class:"sized-btn",type:"submit",label:"Update",color:"accent"}),a(x,{class:"sized-btn",onClick:r[3]||(r[3]=s=>l.$inertia.replace(l.route("constituency.index"))),label:"Cancel",color:"negative"})])]}),_:1})],64))}};export{O as default};
