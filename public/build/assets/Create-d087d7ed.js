import{Q as j,a as f}from"./QBreadcrumbs-f1fcde01.js";import{a1 as P,v as A,o as G,e as H,a as t,d as s,w as y,F as J,m as z,u as r,Q as I}from"./app-a7abb58d.js";import{Q as u}from"./QSelect-57ce204b.js";import{Q as K}from"./QForm-ea84dcf4.js";import{u as M}from"./useUtils-e812dfe8.js";import"./QChip-85d4182d.js";import"./rtl-36dd996b.js";const R={class:"flex justify-between items-center text-color"},T=t("p",{class:"page-header"},"New Office",-1),W=t("br",null,null,-1),X=t("br",null,null,-1),Y={class:"flex q-gutter-sm"},ie={__name:"Create",props:["districts","offices","departments"],setup(c){const{OFFICES_LEVELS:p}=M(),b=P(),e=A({name:"",description:"",levelSelect:p[0],districtSelect:null,department:null,officeSelect:null}),$=i=>{e.transform(l=>{var a,n,m,d;return{...l,level:(a=l==null?void 0:l.levelSelect)==null?void 0:a.value,district_id:(n=l.districtSelect)==null?void 0:n.value,department_id:(m=l.department)==null?void 0:m.value,office:(d=l.officeSelect)==null?void 0:d.value}}).submit("post",route("office.store"),{onStart:l=>b.loading.show({message:"Saving..."}),onFinish:l=>b.loading.hide()})};return(i,l)=>(G(),H(J,null,[t("div",R,[t("div",null,[T,s(j,null,{default:y(()=>[s(f,{href:i.route("dashboard"),icon:"o_dashboard",label:"Dashboard"},null,8,["href"]),s(f,{href:i.route("office.index"),label:"Office"},null,8,["href"]),s(f,{label:"New Office"})]),_:1})])]),W,X,s(K,{onSubmit:$},{default:y(()=>{var a,n,m,d,v,V,g,S,Q,U,q,w,B,D,F,N,O,C,E,h,x,L,_,k;return[s(z,{modelValue:r(e).name,"onUpdate:modelValue":l[0]||(l[0]=o=>r(e).name=o),error:!!((n=(a=r(e))==null?void 0:a.errors)!=null&&n.name),"error-message":!!((d=(m=r(e))==null?void 0:m.errors)!=null&&d.name),rules:[o=>!!o||"Name is required"],label:"Name *"},null,8,["modelValue","error","error-message","rules"]),s(u,{modelValue:r(e).levelSelect,"onUpdate:modelValue":l[1]||(l[1]=o=>r(e).levelSelect=o),options:r(p),error:!!((V=(v=r(e))==null?void 0:v.errors)!=null&&V.level),"error-message":!!((S=(g=r(e))==null?void 0:g.errors)!=null&&S.level),rules:[o=>!!o||"Level is required"],label:"Level"},null,8,["modelValue","options","error","error-message","rules"]),s(u,{modelValue:r(e).department,"onUpdate:modelValue":l[2]||(l[2]=o=>r(e).department=o),options:c.departments,error:!!((U=(Q=r(e))==null?void 0:Q.errors)!=null&&U.department_id),"error-message":!!((w=(q=r(e))==null?void 0:q.errors)!=null&&w.department_id),rules:[o=>!!o||"Department is required"],label:"Department *"},null,8,["modelValue","options","error","error-message","rules"]),s(u,{modelValue:r(e).districtSelect,"onUpdate:modelValue":l[3]||(l[3]=o=>r(e).districtSelect=o),options:c.districts,error:!!((D=(B=r(e))==null?void 0:B.errors)!=null&&D.district_id),"error-message":!!((N=(F=r(e))==null?void 0:F.errors)!=null&&N.district_id),rules:[o=>!!o||"District is required"],label:"District *"},null,8,["modelValue","options","error","error-message","rules"]),s(u,{modelValue:r(e).officeSelect,"onUpdate:modelValue":l[4]||(l[4]=o=>r(e).officeSelect=o),clearable:"",options:c.offices,error:!!((C=(O=r(e))==null?void 0:O.errors)!=null&&C.parentOffice),"error-message":!!((h=(E=r(e))==null?void 0:E.errors)!=null&&h.parentOffice),label:"Parent office"},null,8,["modelValue","options","error","error-message"]),s(z,{modelValue:r(e).description,"onUpdate:modelValue":l[5]||(l[5]=o=>r(e).description=o),error:!!((L=(x=r(e))==null?void 0:x.errors)!=null&&L.description),"error-message":!!((k=(_=r(e))==null?void 0:_.errors)!=null&&k.description),label:"Description"},null,8,["modelValue","error","error-message"]),t("div",Y,[s(I,{class:"sized-btn",color:"accent",label:"Save",type:"submit"}),s(I,{class:"sized-btn",color:"negative",label:"Cancel",onClick:l[6]||(l[6]=o=>i.$inertia.replace(i.route("office.index")))})])]}),_:1})],64))}};export{ie as default};
