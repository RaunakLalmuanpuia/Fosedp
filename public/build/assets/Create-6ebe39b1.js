import{Q as J,a as d}from"./QBreadcrumbs-f1fcde01.js";import{a1 as K,v as L,o as O,e as T,a as n,d as l,w as I,F as W,m,u as s,Q as M}from"./app-a7abb58d.js";import{Q as G}from"./QSelect-57ce204b.js";import{Q as X}from"./QForm-ea84dcf4.js";import"./QChip-85d4182d.js";import"./rtl-36dd996b.js";const Y={class:"flex justify-between items-center text-color"},Z=n("p",{class:"page-header"},"New User",-1),_=n("br",null,null,-1),h=n("br",null,null,-1),ee={class:"flex q-gutter-sm"},te={__name:"Create",props:["districts","roles"],setup(u){const p=K(),e=L({name:"",mobile:"",email:"",roles:[],districts:[],password:"",password_confirmation:""}),H=a=>{e.transform(r=>{var i;return{role_ids:(i=r==null?void 0:r.roles)==null?void 0:i.map(t=>t.value),ids:r==null?void 0:r.districts.map(t=>t.value),...r}}).submit("post",route("user.store"),{onStart:r=>p.loading.show({message:"Saving..."}),onFinish:r=>p.loading.hide()})};return(a,r)=>(O(),T(W,null,[n("div",Y,[n("div",null,[Z,l(J,null,{default:I(()=>[l(d,{class:"cursor-pointer",onClick:r[0]||(r[0]=i=>a.$inertia.get(a.route("dashboard"))),label:"Dashboard",icon:"o_dashboard"}),l(d,{class:"cursor-pointer",onClick:r[1]||(r[1]=i=>a.$inertia.get(a.route("user.index"))),label:"Users"}),l(d,{label:"New User"})]),_:1})])]),_,h,l(X,{onSubmit:H},{default:I(()=>{var i,t,b,w,g,V,f,c,v,Q,U,C,q,N,k,B,$,P,S,y,E,F,x,z,D,R,j,A;return[l(m,{modelValue:s(e).name,"onUpdate:modelValue":r[2]||(r[2]=o=>s(e).name=o),label:"Name *",error:!!((t=(i=s(e))==null?void 0:i.errors)!=null&&t.name),"error-message":!!((w=(b=s(e))==null?void 0:b.errors)!=null&&w.name),outlined:"",rules:[o=>!!o||"Name is required"]},null,8,["modelValue","error","error-message","rules"]),l(m,{modelValue:s(e).mobile,"onUpdate:modelValue":r[3]||(r[3]=o=>s(e).mobile=o),label:"Mobile *",error:!!((V=(g=s(e))==null?void 0:g.errors)!=null&&V.mobile),"error-message":!!((c=(f=s(e))==null?void 0:f.errors)!=null&&c.mobile),mask:"##########",outlined:"",rules:[o=>!!o||"Name is required"]},null,8,["modelValue","error","error-message","rules"]),l(m,{modelValue:s(e).email,"onUpdate:modelValue":r[4]||(r[4]=o=>s(e).email=o),label:"Email *",error:!!((Q=(v=s(e))==null?void 0:v.errors)!=null&&Q.email),"error-message":!!((C=(U=s(e))==null?void 0:U.errors)!=null&&C.email),rules:[o=>!!o||"Email is required"],outlined:""},null,8,["modelValue","error","error-message","rules"]),l(G,{modelValue:s(e).roles,"onUpdate:modelValue":r[5]||(r[5]=o=>s(e).roles=o),label:"Role *",options:u.roles,error:!!((N=(q=s(e))==null?void 0:q.errors)!=null&&N.role_ids),"use-chips":"","error-message":!!((B=(k=s(e))==null?void 0:k.errors)!=null&&B.role_ids),outlined:"",multiple:"",rules:[o=>!!o||"Role is required"]},null,8,["modelValue","options","error","error-message","rules"]),l(G,{modelValue:s(e).districts,"onUpdate:modelValue":r[6]||(r[6]=o=>s(e).districts=o),multiple:"","use-chips":"",options:u.districts,label:"Appointed District",outlined:"",error:!!((P=($=s(e))==null?void 0:$.errors)!=null&&P.districts),"error-message":!!((y=(S=s(e))==null?void 0:S.errors)!=null&&y.districts)},null,8,["modelValue","options","error","error-message"]),l(m,{modelValue:s(e).password,"onUpdate:modelValue":r[7]||(r[7]=o=>s(e).password=o),type:"password",label:"Password *",outlined:"",error:!!((F=(E=s(e))==null?void 0:E.errors)!=null&&F.password),"error-message":!!((z=(x=s(e))==null?void 0:x.errors)!=null&&z.password),rules:[o=>!!o||"Password is required"]},null,8,["modelValue","error","error-message","rules"]),l(m,{modelValue:s(e).password_confirmation,"onUpdate:modelValue":r[8]||(r[8]=o=>s(e).password_confirmation=o),type:"password",label:"Confirm Password *",outlined:"",error:!!((R=(D=s(e))==null?void 0:D.errors)!=null&&R.password_confirmation),"error-message":!!((A=(j=s(e))==null?void 0:j.errors)!=null&&A.password_confirmation),rules:[o=>!!o||"Confirm Password is required",o=>o===s(e).password||"Confirm Password does not match password"]},null,8,["modelValue","error","error-message","rules"]),n("div",ee,[l(M,{class:"sized-btn",type:"submit",label:"Save",rounded:"",color:"accent"}),l(M,{class:"sized-btn",onClick:r[9]||(r[9]=o=>a.$inertia.replace(a.route("user.index"))),label:"Cancel",rounded:"",color:"negative"})])]}),_:1})],64))}};export{te as default};
