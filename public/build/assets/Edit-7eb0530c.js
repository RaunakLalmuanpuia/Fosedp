import{Q as H,a as p}from"./QBreadcrumbs-f1fcde01.js";import{a1 as J,v as K,o as O,e as T,a as d,d as l,w as I,F as W,m as n,u as r,Q as L}from"./app-a7abb58d.js";import{Q as M}from"./QSelect-57ce204b.js";import{Q as X}from"./QForm-ea84dcf4.js";import"./QChip-85d4182d.js";import"./rtl-36dd996b.js";const Y={class:"flex justify-between items-center text-color"},Z=d("p",{class:"page-header"},"Edit User",-1),ee=d("br",null,null,-1),re=d("br",null,null,-1),se={class:"flex q-gutter-sm"},me={__name:"Edit",props:["districts","roles","data"],setup(u){var f;const t=u,b=J(),e=K({name:t.data.name,mobile:t.data.mobile,email:t.data.email,roles:(f=t.data)==null?void 0:f.roles.map(a=>({value:a.id,label:a.name})),districts:t.data.districts.map(a=>({value:a.id,label:a.name})),password:"",password_confirmation:""}),G=a=>{e.transform(s=>{var m;return{role_ids:(m=s==null?void 0:s.roles)==null?void 0:m.map(i=>i.value),ids:s.districts.map(i=>i.value),...s}}).submit("put",route("user.update",t.data.id),{onStart:s=>b.loading.show({message:"Updating..."}),onFinish:s=>b.loading.hide()})};return(a,s)=>(O(),T(W,null,[d("div",Y,[d("div",null,[Z,l(H,null,{default:I(()=>[l(p,{href:a.route("dashboard"),icon:"o_dashboard",label:"Dashboard"},null,8,["href"]),l(p,{href:a.route("user.index"),icon:"people_outline",label:"Users"},null,8,["href"]),l(p,{label:"Edit User"})]),_:1})])]),ee,re,l(X,{onSubmit:G},{default:I(()=>{var m,i,V,g,w,c,U,v,Q,E,h,q,B,C,N,k,x,y,F,_,P,S,z,D,R,$,j,A;return[l(n,{modelValue:r(e).name,"onUpdate:modelValue":s[0]||(s[0]=o=>r(e).name=o),error:!!((i=(m=r(e))==null?void 0:m.errors)!=null&&i.name),"error-message":!!((g=(V=r(e))==null?void 0:V.errors)!=null&&g.name),rules:[o=>!!o||"Name is required"],label:"Name *"},null,8,["modelValue","error","error-message","rules"]),l(n,{modelValue:r(e).mobile,"onUpdate:modelValue":s[1]||(s[1]=o=>r(e).mobile=o),error:!!((c=(w=r(e))==null?void 0:w.errors)!=null&&c.mobile),"error-message":!!((v=(U=r(e))==null?void 0:U.errors)!=null&&v.mobile),rules:[o=>!!o||"Name is required"],label:"Mobile *"},null,8,["modelValue","error","error-message","rules"]),l(n,{modelValue:r(e).email,"onUpdate:modelValue":s[2]||(s[2]=o=>r(e).email=o),error:!!((E=(Q=r(e))==null?void 0:Q.errors)!=null&&E.email),"error-message":!!((q=(h=r(e))==null?void 0:h.errors)!=null&&q.email),rules:[o=>!!o||"Email is required"],label:"Email *"},null,8,["modelValue","error","error-message","rules"]),l(M,{modelValue:r(e).roles,"onUpdate:modelValue":s[3]||(s[3]=o=>r(e).roles=o),error:!!((C=(B=r(e))==null?void 0:B.errors)!=null&&C.role_ids),"error-message":!!((k=(N=r(e))==null?void 0:N.errors)!=null&&k.role_ids),options:u.roles,rules:[o=>!!o||"Role is required"],label:"Role *",multiple:"","use-chips":""},null,8,["modelValue","error","error-message","options","rules"]),l(M,{modelValue:r(e).districts,"onUpdate:modelValue":s[4]||(s[4]=o=>r(e).districts=o),error:!!((y=(x=r(e))==null?void 0:x.errors)!=null&&y.districts),"error-message":!!((_=(F=r(e))==null?void 0:F.errors)!=null&&_.districts),options:u.districts,label:"Appointed District",multiple:"","use-chips":""},null,8,["modelValue","error","error-message","options"]),l(n,{modelValue:r(e).password,"onUpdate:modelValue":s[5]||(s[5]=o=>r(e).password=o),error:!!((S=(P=r(e))==null?void 0:P.errors)!=null&&S.password),"error-message":!!((D=(z=r(e))==null?void 0:z.errors)!=null&&D.password),hint:"Leave blank to use current password",label:"Password *",type:"password"},null,8,["modelValue","error","error-message"]),l(n,{modelValue:r(e).password_confirmation,"onUpdate:modelValue":s[6]||(s[6]=o=>r(e).password_confirmation=o),error:!!(($=(R=r(e))==null?void 0:R.errors)!=null&&$.password_confirmation),"error-message":!!((A=(j=r(e))==null?void 0:j.errors)!=null&&A.password_confirmation),rules:[o=>o===r(e).password||"Confirm Password does not match password"],label:"Confirm Password *",type:"password"},null,8,["modelValue","error","error-message","rules"]),d("div",se,[l(L,{class:"sized-btn",color:"accent",label:"Update",rounded:"",type:"submit"}),l(L,{class:"sized-btn",color:"negative",label:"Cancel",rounded:"",onClick:s[7]||(s[7]=o=>a.$inertia.replace(a.route("user.index")))})])]}),_:1})],64))}};export{me as default};
