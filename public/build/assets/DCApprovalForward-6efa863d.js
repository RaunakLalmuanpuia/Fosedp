import{a1 as R,h as S,v as P,E as Q,o as V,c as A,w as k,a as u,b as d,d as a,Q as m,C as p,l as N,t as F,u as t,e as D,f as O,m as B,g as T}from"./app-a7abb58d.js";import{Q as j}from"./QSelect-57ce204b.js";import{Q as E}from"./QForm-ea84dcf4.js";const I={class:"flex justify-between items-center q-pl-md"},W=u("p",{class:"text-lg q-ma-none q-my-sm"},"Forward To Planning",-1),G={class:"q-pl-md"},L={class:"text-color text-sm"},M={key:0,class:"text-negative"},z={class:"flex q-gutter-sm q-mt-md"},ge={__name:"PlanningForward",props:["files"],emits:["onSuccess"],setup(f,{emit:$}){const U=f,l=R(),g=S([]);S(!1);const r=P({user:null,remark:""}),n=b=>{l.loading.show({message:"Fetching Users"}),axios.get(route("option.planning-users")).then(o=>{const{message:e,list:s}=o.data;g.value=s}).catch(o=>{var e,s;l.notify({type:"negative",message:((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.toString()})}).finally(()=>l.loading.hide())};Q(()=>{n()});const C=b=>{const o=U.files.map(e=>e.id)||[];r.transform(e=>({ids:o,user_id:e.user.value,...e})).post(route("application.forward"),{onStart:e=>l.loading.show({message:"Forwarding..."}),onSuccess:e=>$("onSuccess"),onFinish:e=>l.loading.hide()})};return(b,o)=>(V(),A(T,{class:"",flat:"",style:{width:"540px"}},{default:k(()=>{var e,s,i,_,h;return[u("div",I,[W,d(a(m,{class:"q-pa-xs",flat:"",icon:"close",round:""},null,512),[[p]])]),a(N,{class:"full-width"}),u("div",G,[u("p",L,F("No of Application to be forward : "+((e=f.files)==null?void 0:e.length)||0),1),(i=(s=t(r))==null?void 0:s.errors)!=null&&i.ids?(V(),D("p",M,F((h=(_=t(r))==null?void 0:_.errors)==null?void 0:h.ids),1)):O("",!0)]),a(E,{class:"q-pa-md",onSubmit:C},{default:k(()=>{var x,v,q,y;return[a(j,{modelValue:t(r).user,"onUpdate:modelValue":o[0]||(o[0]=c=>t(r).user=c),error:!!((v=(x=t(r))==null?void 0:x.errors)!=null&&v.user_id),"error-message":(y=(q=t(r))==null?void 0:q.errors)==null?void 0:y.user_id,options:g.value,rules:[c=>!!c||"Please select recipient"],label:"Select Recipient user",outlined:""},null,8,["modelValue","error","error-message","options","rules"]),a(B,{modelValue:t(r).remark,"onUpdate:modelValue":o[1]||(o[1]=c=>t(r).remark=c),type:"textarea",label:"Remark",outlined:""},null,8,["modelValue"]),u("div",z,[d(a(m,{color:"primary",label:"Confirm",type:"submit"},null,512),[[p]]),d(a(m,{color:"negative",label:"Cancel",outline:""},null,512),[[p]])])]}),_:1})]}),_:1}))}},H={class:"flex justify-between items-center q-pl-md"},J=u("p",{class:"text-lg q-ma-none q-my-sm"},"Forward To Task Group User",-1),K={class:"q-pl-md"},X={class:"text-color text-sm"},Y={key:0,class:"text-negative"},Z={class:"flex q-gutter-sm q-mt-md"},_e={__name:"OfficeForward",props:["files"],emits:["onSuccess"],setup(f,{emit:$}){const U=f,l=R(),g=S([]);S(!1);const r=P({user:null,remark:""}),n=b=>{l.loading.show({message:"Fetching Users"}),axios.get(route("option.associated-users")).then(o=>{const{message:e,list:s}=o.data;g.value=s}).catch(o=>{var e,s;l.notify({type:"negative",message:((s=(e=o.response)==null?void 0:e.data)==null?void 0:s.message)||o.toString()})}).finally(()=>l.loading.hide())};Q(()=>{n()});const C=b=>{const o=U.files.map(e=>e.id)||[];r.transform(e=>({ids:o,user_id:e.user.value})).post(route("application.forward"),{onStart:e=>l.loading.show({message:"Forwarding..."}),onSuccess:e=>$("onSuccess"),onFinish:e=>l.loading.hide()})};return(b,o)=>(V(),A(T,{class:"",flat:"",style:{width:"540px"}},{default:k(()=>{var e,s,i,_,h;return[u("div",H,[J,d(a(m,{class:"q-pa-xs",flat:"",icon:"close",round:""},null,512),[[p]])]),a(N,{class:"full-width"}),u("div",K,[u("p",X,F("No of Application to be forward : "+((e=f.files)==null?void 0:e.length)||0),1),(i=(s=t(r))==null?void 0:s.errors)!=null&&i.ids?(V(),D("p",Y,F((h=(_=t(r))==null?void 0:_.errors)==null?void 0:h.ids),1)):O("",!0)]),a(E,{class:"q-pa-md",onSubmit:C},{default:k(()=>{var x,v,q,y;return[a(j,{modelValue:t(r).user,"onUpdate:modelValue":o[0]||(o[0]=c=>t(r).user=c),error:!!((v=(x=t(r))==null?void 0:x.errors)!=null&&v.user_id),"error-message":(y=(q=t(r))==null?void 0:q.errors)==null?void 0:y.user_id,options:g.value,rules:[c=>!!c||"Please select recipient"],label:"Select Recipient user",outlined:""},null,8,["modelValue","error","error-message","options","rules"]),a(B,{modelValue:t(r).remark,"onUpdate:modelValue":o[1]||(o[1]=c=>t(r).remark=c),label:"Remark",outlined:""},null,8,["modelValue"]),u("div",Z,[d(a(m,{color:"primary",label:"Confirm",type:"submit"},null,512),[[p]]),d(a(m,{color:"negative",label:"Cancel",outline:""},null,512),[[p]])])]}),_:1})]}),_:1}))}},ee={class:"flex justify-between items-center q-pl-md"},se=u("p",{class:"text-lg q-ma-none q-my-sm"},"FORWARD TO VERIFIER",-1),te={class:"q-pl-md"},oe={class:"text-color text-sm q-ma-none"},ae={key:0,class:"text-negative q-ma-none"},le={class:"flex q-gutter-sm q-mt-md"},he={__name:"DCVerifierForward",props:["files"],emits:["onSuccess"],setup(f,{emit:$}){const U=f,l=R(),g=S([]),r=S(!1),n=P({user:null,remark:""}),C=o=>{l.loading.show({message:"Fetching Users"}),axios.get(route("option.dc-verifiers")).then(e=>{const{message:s,list:i}=e.data;g.value=i}).catch(e=>{var s,i;l.notify({type:"negative",message:((i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message)||e.toString()})}).finally(()=>l.loading.hide())};Q(()=>{C()});const b=o=>{const e=U.files.map(s=>s.id)||[];n.transform(s=>({ids:e,user_id:s.user.value,...s})).post(route("application.forward"),{onStart:s=>l.loading.show({message:"Forwarding..."}),onSuccess:s=>{$("onSuccess"),r.value=!1},onFinish:s=>l.loading.hide()})};return(o,e)=>(V(),A(T,{style:{width:"540px"},flat:"",class:""},{default:k(()=>{var s,i,_,h,x;return[u("div",ee,[se,d(a(m,{round:"",icon:"close",flat:"",class:"q-pa-xs"},null,512),[[p]])]),a(N,{class:"full-width"}),u("div",te,[u("p",oe,F("No of Application to be Sent : "+((s=f.files)==null?void 0:s.length)||0),1),(_=(i=t(n))==null?void 0:i.errors)!=null&&_.ids?(V(),D("p",ae,F((x=(h=t(n))==null?void 0:h.errors)==null?void 0:x.ids),1)):O("",!0)]),a(E,{class:"q-pa-md",onSubmit:b},{default:k(()=>{var v,q,y,c;return[a(j,{modelValue:t(n).user,"onUpdate:modelValue":e[0]||(e[0]=w=>t(n).user=w),outlined:"",options:g.value,error:!!((q=(v=t(n))==null?void 0:v.errors)!=null&&q.user_id),"error-message":(c=(y=t(n))==null?void 0:y.errors)==null?void 0:c.user_id,rules:[w=>!!w||"Please select recipient"],label:"Select Recipient user"},null,8,["modelValue","options","error","error-message","rules"]),a(B,{modelValue:t(n).remark,"onUpdate:modelValue":e[1]||(e[1]=w=>t(n).remark=w),type:"textarea",outlined:"",label:"Remark"},null,8,["modelValue"]),u("div",le,[d(a(m,{type:"submit",color:"primary",label:"Confirm"},null,512),[[p]]),d(a(m,{outline:"",color:"negative",label:"Cancel"},null,512),[[p]])])]}),_:1})]}),_:1}))}},re={class:"flex justify-between items-center q-pl-md"},ne=u("p",{class:"text-lg q-ma-none q-my-sm"},"FORWARD TO APPROVAL",-1),ie={class:"q-pl-md"},ue={class:"text-color text-sm q-ma-none"},ce={key:0,class:"text-negative q-ma-none"},de={class:"flex q-gutter-sm q-mt-md"},xe={__name:"DCApprovalForward",props:["files"],emits:["onSuccess"],setup(f,{emit:$}){const U=f,l=R(),g=S([]),r=S(!1),n=P({user:null,remark:""}),C=o=>{l.loading.show({message:"Fetching Users"}),axios.get(route("option.dc-approvals")).then(e=>{const{message:s,list:i}=e.data;g.value=i}).catch(e=>{var s,i;l.notify({type:"negative",message:((i=(s=e.response)==null?void 0:s.data)==null?void 0:i.message)||e.toString()})}).finally(()=>l.loading.hide())};Q(()=>{C()});const b=o=>{const e=U.files.map(s=>s.id)||[];n.transform(s=>({ids:e,user_id:s.user.value,...s})).post(route("application.forward"),{onStart:s=>l.loading.show({message:"Forwarding..."}),onSuccess:s=>{$("onSuccess"),r.value=!1},onFinish:s=>l.loading.hide()})};return(o,e)=>(V(),A(T,{style:{width:"540px"},flat:"",class:""},{default:k(()=>{var s,i,_,h,x;return[u("div",re,[ne,d(a(m,{round:"",icon:"close",flat:"",class:"q-pa-xs"},null,512),[[p]])]),a(N,{class:"full-width"}),u("div",ie,[u("p",ue,F("No of Application to be Sent : "+((s=f.files)==null?void 0:s.length)||0),1),(_=(i=t(n))==null?void 0:i.errors)!=null&&_.ids?(V(),D("p",ce,F((x=(h=t(n))==null?void 0:h.errors)==null?void 0:x.ids),1)):O("",!0)]),a(E,{class:"q-pa-md",onSubmit:b},{default:k(()=>{var v,q,y,c;return[a(j,{modelValue:t(n).user,"onUpdate:modelValue":e[0]||(e[0]=w=>t(n).user=w),outlined:"",options:g.value,error:!!((q=(v=t(n))==null?void 0:v.errors)!=null&&q.user_id),"error-message":(c=(y=t(n))==null?void 0:y.errors)==null?void 0:c.user_id,rules:[w=>!!w||"Please select recipient"],label:"Select Recipient user"},null,8,["modelValue","options","error","error-message","rules"]),a(B,{modelValue:t(n).remark,"onUpdate:modelValue":e[1]||(e[1]=w=>t(n).remark=w),type:"textarea",outlined:"",label:"Remark"},null,8,["modelValue"]),u("div",de,[d(a(m,{type:"submit",color:"primary",label:"Confirm"},null,512),[[p]]),d(a(m,{outline:"",color:"negative",label:"Cancel"},null,512),[[p]])])]}),_:1})]}),_:1}))}};export{he as _,xe as a,ge as b,_e as c};
